{
  "tasks": [
    {
      "id": "1",
      "title": "메시지 큐 시스템 패턴 기반 완료 감지 개선",
      "description": "기존 타임아웃 기반 완료 감지를 패턴 매칭 기반으로 개선하여 더 정확하고 효율적인 완료 감지 구현",
      "status": "pending",
      "priority": "high",
      "dependencies": [],
      "notes": "현재 waitForPrompt 함수의 패턴 매칭 로직을 강화하고, 완료 감지 정확도를 높이는 작업. Claude 응답 패턴을 더 정확하게 인식하도록 개선",
      "details": "",
      "createdAt": "2025-08-18T18:06:40.000+0900",
      "updatedAt": "2025-08-18T18:06:40.000+0900",
      "subtasks": [
        {
          "id": "1.1",
          "title": "Claude 응답 패턴 분석 및 개선",
          "description": "현재 readyPatterns 배열을 확장하고 더 정확한 완료 패턴 추가",
          "status": "pending",
          "priority": "high",
          "dependencies": [],
          "notes": "server/claude/session-manager.js의 waitForPrompt 함수에서 readyPatterns를 개선. 현재 /\\? for shortcuts/i, /❯/, />/등의 패턴을 더 정확하고 포괄적으로 수정",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "1.2",
          "title": "컨텍스트 기반 완료 감지 로직 구현",
          "description": "단순 패턴 매칭에서 컨텍스트를 고려한 완료 감지로 개선",
          "status": "pending",
          "priority": "high",
          "dependencies": ["1.1"],
          "notes": "메시지 타입, 이전 출력 내용, 시간 기반 안정성 등을 종합적으로 고려하는 완료 감지 로직 구현. 잘못된 완료 감지 방지",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "1.3",
          "title": "적응형 타임아웃 시스템 구현",
          "description": "메시지 복잡도와 과거 처리 시간을 기반으로 한 동적 타임아웃 시스템",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["1.2"],
          "notes": "메시지 길이, 파일 조작 여부, 과거 처리 시간 통계를 바탕으로 적응형 타임아웃 계산. 현재 고정된 600초 타임아웃을 개선",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "1.4",
          "title": "에러 복구 및 재시도 로직 강화",
          "description": "패턴 매칭 실패 시 자동 복구 및 재시도 메커니즘 구현",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["1.2"],
          "notes": "완료 감지 실패 시 Claude 세션 상태 점검, 자동 복구 시도, 스마트 재시도 로직 구현. 현재 processNextMessage의 에러 핸들링을 개선",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        }
      ]
    },
    {
      "id": "2",
      "title": "브라우저 알림 시스템 기반 구조 구축",
      "description": "Browser Notification API를 활용한 알림 시스템의 기반 구조 및 권한 관리 구현",
      "status": "pending",
      "priority": "high",
      "dependencies": [],
      "notes": "Chrome 브라우저의 네이티브 알림을 활용하여 OS 레벨 데스크톱 알림 제공. 권한 관리 및 설정 시스템 포함",
      "details": "",
      "createdAt": "2025-08-18T18:06:40.000+0900",
      "updatedAt": "2025-08-18T18:06:40.000+0900",
      "subtasks": [
        {
          "id": "2.1",
          "title": "알림 유틸리티 클래스 생성",
          "description": "Browser Notification API를 래핑하는 알림 관리 유틸리티 클래스",
          "status": "pending",
          "priority": "high",
          "dependencies": [],
          "notes": "src/utils/notifications.ts 파일 생성. 브라우저 알림 권한 요청, 알림 표시, 클릭 핸들링, 설정 관리 등의 기능 포함",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "2.2",
          "title": "알림 권한 관리 컴포넌트",
          "description": "사용자가 브라우저 알림 권한을 관리할 수 있는 UI 컴포넌트",
          "status": "pending",
          "priority": "high",
          "dependencies": ["2.1"],
          "notes": "src/components/NotificationPermissions.tsx 생성. 권한 상태 표시, 권한 요청 버튼, 권한 설명 등을 포함하는 컴포넌트",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "2.3",
          "title": "알림 설정 UI 컴포넌트",
          "description": "사용자가 알림 종류별로 on/off를 설정할 수 있는 설정 패널",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["2.1"],
          "notes": "src/components/NotificationSettings.tsx 생성. 큐 상태 변화, 메시지 완료, 에러 발생 등 알림 타입별 설정 토글",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "2.4",
          "title": "로컬 스토리지 기반 설정 관리",
          "description": "사용자 알림 설정을 브라우저 로컬 스토리지에 저장/관리하는 시스템",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["2.1"],
          "notes": "localStorage를 활용한 설정 저장/불러오기. 기본 설정, 설정 유효성 검사, 마이그레이션 로직 포함",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        }
      ]
    },
    {
      "id": "3",
      "title": "통계 카드 상태 변화 감지 및 알림 통합",
      "description": "Automation 페이지의 통계 카드 상태 변화를 감지하고 브라우저 알림으로 전달하는 시스템",
      "status": "pending",
      "priority": "high",
      "dependencies": ["1.2", "2.1"],
      "notes": "현재 src/components/Automation.tsx의 stats 객체 변화를 감지하고, WebSocket을 통한 실시간 상태 변화를 알림으로 변환",
      "details": "",
      "createdAt": "2025-08-18T18:06:40.000+0900",
      "updatedAt": "2025-08-18T18:06:40.000+0900",
      "subtasks": [
        {
          "id": "3.1",
          "title": "통계 변화 감지 훅 구현",
          "description": "통계 카드 데이터 변화를 감지하는 React Hook",
          "status": "pending",
          "priority": "high",
          "dependencies": ["2.1"],
          "notes": "src/hooks/useStatsChangeDetection.ts 생성. 이전 stats와 현재 stats를 비교하여 의미있는 변화 감지 (큐 길이 증가/감소, 완료 메시지 증가, 에러 발생 등)",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "3.2",
          "title": "알림 메시지 생성 로직",
          "description": "통계 변화를 사용자 친화적인 알림 메시지로 변환하는 로직",
          "status": "pending",
          "priority": "high",
          "dependencies": ["3.1"],
          "notes": "변화 타입에 따른 알림 메시지 템플릿, 중복 알림 방지, 우선순위별 알림 표시 로직. 예: '메시지 3개 처리 완료', '큐에 새 메시지 5개 추가' 등",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "3.3",
          "title": "WebSocket 이벤트 기반 알림 통합",
          "description": "WebSocket 이벤트를 브라우저 알림과 연결하는 통합 시스템",
          "status": "pending",
          "priority": "high",
          "dependencies": ["3.2"],
          "notes": "현재 Automation.tsx의 WebSocket 이벤트 핸들러에 알림 로직 통합. queue-update, status-update, message-completed 등 이벤트 처리",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "3.4",
          "title": "중복 알림 방지 및 알림 쓰로틀링",
          "description": "과도한 알림 발생을 방지하는 쓰로틀링 및 중복 제거 시스템",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["3.3"],
          "notes": "같은 타입의 알림이 연속으로 발생하는 것을 방지, 시간 기반 쓰로틀링, 사용자 포커스 상태에 따른 알림 조절",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        }
      ]
    },
    {
      "id": "4",
      "title": "서버 측 알림 이벤트 강화",
      "description": "서버의 WebSocket 브로드캐스트에 알림 친화적인 이벤트 데이터 추가",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["1.2", "3.1"],
      "notes": "현재 server/websocket/index.js와 server/claude/session-manager.js의 이벤트에 알림에 필요한 메타데이터 추가",
      "details": "",
      "createdAt": "2025-08-18T18:06:40.000+0900",
      "updatedAt": "2025-08-18T18:06:40.000+0900",
      "subtasks": [
        {
          "id": "4.1",
          "title": "세션 상태 변화 이벤트 강화",
          "description": "Claude 세션 상태 변화 시 알림 관련 정보 포함하여 브로드캐스트",
          "status": "pending",
          "priority": "medium",
          "dependencies": [],
          "notes": "session-manager.js의 세션 이벤트에 변화 이유, 이전 상태, 영향받는 메시지 수 등 알림에 유용한 정보 추가",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "4.2",
          "title": "큐 변화 이벤트 메타데이터 추가",
          "description": "메시지 큐 변화 시 변화 종류, 영향받는 메시지 정보를 포함한 이벤트",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["4.1"],
          "notes": "queue-update 이벤트에 변화 타입 (add, remove, status_change), 변화량, 전체 통계 등을 포함하여 클라이언트에서 더 정확한 알림 생성 가능",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "4.3",
          "title": "성능 통계 기반 알림 이벤트",
          "description": "메시지 처리 성능 통계를 기반으로 한 알림 이벤트 추가",
          "status": "pending",
          "priority": "low",
          "dependencies": ["4.2"],
          "notes": "처리 속도, 성공률, 평균 대기시간 등 성능 지표 변화를 알림으로 전달. 시스템 상태에 대한 인사이트 제공",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        }
      ]
    },
    {
      "id": "5",
      "title": "사용자 경험 최적화 및 설정 통합",
      "description": "알림 시스템을 기존 UI에 자연스럽게 통합하고 사용자 경험 최적화",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["2.2", "3.3"],
      "notes": "Automation 페이지에 알림 설정을 통합하고, 사용자가 쉽게 알림을 관리할 수 있도록 UI/UX 개선",
      "details": "",
      "createdAt": "2025-08-18T18:06:40.000+0900",
      "updatedAt": "2025-08-18T18:06:40.000+0900",
      "subtasks": [
        {
          "id": "5.1",
          "title": "Automation 페이지에 알림 설정 통합",
          "description": "기존 Automation.tsx에 알림 권한 및 설정 UI 추가",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["2.2", "2.3"],
          "notes": "제어판 카드에 알림 관련 버튼 추가, 설정 모달 또는 접힐 수 있는 섹션으로 알림 설정 제공. 현재 UI 디자인과 일관성 유지",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "5.2",
          "title": "알림 상태 표시 및 피드백",
          "description": "현재 알림 상태를 사용자에게 명확히 표시하는 UI 요소",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["5.1"],
          "notes": "헤더의 상태 표시기 옆에 알림 상태 아이콘 추가. 권한 상태, 최근 알림 수, 알림 on/off 상태를 한눈에 확인 가능",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "5.3",
          "title": "알림 테스트 기능",
          "description": "사용자가 알림 설정을 테스트할 수 있는 기능",
          "status": "pending",
          "priority": "low",
          "dependencies": ["5.2"],
          "notes": "설정 화면에서 테스트 알림 버튼 제공. 다양한 알림 타입의 샘플 알림을 발생시켜 사용자가 설정을 확인할 수 있도록 지원",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "5.4",
          "title": "접근성 및 반응형 디자인 적용",
          "description": "알림 관련 UI의 접근성 개선 및 다양한 화면 크기 지원",
          "status": "pending",
          "priority": "low",
          "dependencies": ["5.2"],
          "notes": "알림 설정 UI의 키보드 접근성, 스크린 리더 지원, 모바일 화면에서의 반응형 레이아웃 적용",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        }
      ]
    },
    {
      "id": "6",
      "title": "통합 테스트 및 성능 최적화",
      "description": "전체 시스템의 통합 테스트 및 성능 최적화 작업",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["1.4", "3.4", "5.1"],
      "notes": "패턴 기반 완료 감지와 브라우저 알림 시스템이 통합된 전체 시스템의 안정성 및 성능 검증",
      "details": "",
      "createdAt": "2025-08-18T18:06:40.000+0900",
      "updatedAt": "2025-08-18T18:06:40.000+0900",
      "subtasks": [
        {
          "id": "6.1",
          "title": "패턴 매칭 정확도 테스트",
          "description": "다양한 Claude 응답 시나리오에서 패턴 매칭 정확도 검증",
          "status": "pending",
          "priority": "high",
          "dependencies": ["1.4"],
          "notes": "긴 응답, 코드 생성, 파일 조작, 에러 상황 등 다양한 시나리오에서 완료 감지가 정확히 작동하는지 테스트. 잘못된 완료 감지 및 누락 최소화",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "6.2",
          "title": "알림 시스템 부하 테스트",
          "description": "대량의 메시지 처리 시 알림 시스템의 성능 및 안정성 테스트",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["3.4"],
          "notes": "연속된 메시지 처리, 빠른 상태 변화, 브라우저 포커스 변화 등의 상황에서 알림 시스템이 안정적으로 작동하는지 검증",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "6.3",
          "title": "메모리 사용량 최적화",
          "description": "WebSocket 이벤트 처리 및 알림 시스템의 메모리 사용량 최적화",
          "status": "pending",
          "priority": "medium",
          "dependencies": ["6.2"],
          "notes": "이벤트 핸들러 중복 등록 방지, 알림 히스토리 메모리 관리, 가비지 컬렉션 최적화. 현재 코드에서 발견된 메모리 누수 패턴 개선",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        },
        {
          "id": "6.4",
          "title": "크로스 브라우저 호환성 테스트",
          "description": "Chrome 외의 브라우저에서도 알림 시스템이 정상 작동하는지 검증",
          "status": "pending",
          "priority": "low",
          "dependencies": ["6.1"],
          "notes": "Firefox, Safari, Edge 등에서의 Notification API 동작 확인, 권한 처리 차이점 대응, 폴백 UI 제공",
          "details": "",
          "createdAt": "2025-08-18T18:06:40.000+0900",
          "updatedAt": "2025-08-18T18:06:40.000+0900"
        }
      ]
    }
  ]
}